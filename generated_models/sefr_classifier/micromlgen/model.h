#pragma once
#include <stdarg.h>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class SEFR {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        return dot(x,   -1.5741199  , -1.5741246  , -1.5741223  , -1.5741223  , -1.5741215  , -1.5741239  , -1.5741277  , -1.5741211  , -1.5741279  , -1.5741224  , -1.5741199  , -1.5741222  , -1.5740887  , -1.5741239  , -1.5740778  , -1.5741229  , -1.5741278  , -1.5741248  , -1.5741196  , -1.574123  , -1.5741204  , -1.5741262  , -1.5741268  , -1.5741625  , -1.5741268  , -1.5741286  , -1.5741196  , -1.5741228  , -1.5741175  , -1.5741317  , -1.5741298  , -1.5741347  , -1.5741229  , -1.5741222  , -1.5741246  , -1.5741229  , -1.5741222  , -1.5741243  , -1.5741237  , -1.574124  , -1.5741202  , -1.5741181  , -1.5741233  , -1.5741242  , -1.5741223  , -1.574123  , -1.5741247  , -1.5741234  , -1.5741216  , -1.5741194  , -1.57412  , -1.5741222  , -1.5741222  , -1.574124  , -1.5741242  , -1.5741237  , -1.5741199  , -1.5741203  , -1.5741217  , -1.5741217  , -1.5741234  , -1.5741241  , -1.574124  , -1.5741235  , -1.5741221  , -1.574122  , -1.5741225  , -1.5741217  , -1.5741216  , -1.5741235  , -1.5741235  , -1.5741172  , -1.5741215  , -1.574126  , -1.5741222  , -1.5741212  , -1.5741204  , -1.5741241  , -1.5741249  , -1.57408  , -1.5741011  , -1.5741321  , -1.5741208  , -1.5741233  , -1.5741204  , -1.5741256  , -1.5741278  , -1.5741122  , -1.5741327  , -1.5741311  , -1.5741215  , -1.5741209  , -1.5741199  , -1.5741264  , -1.5741259  , -1.5741124  , -1.5741215  , -1.574122  , -1.5741216  , -1.5741211  , -1.5741237  , -1.5741216  , -1.5741249  , -1.5741235  , -1.5741264  , -1.5741227  , -1.5741215  , -1.5741221  , -1.5741243  , -1.5741228  , -1.574124  , -1.5741223  , -1.574122  , -1.5741224  , -1.574123  , -1.5741204  , -1.574124  , -1.5741235  , -1.5741234  , -1.5741266  , -1.5741214  , -1.5741242  , -1.5741234  , -1.5741225  , -1.5741217  , -1.5741234  , -1.5741241  , -1.5741249 ) <= -27.246104224191534 ? 0 : 1;
                    }

                protected:
                    /**
                    * Compute dot product
                    */
                    float dot(float *x, ...) {
                        va_list w;
                        va_start(w, 128);
                        float dot = 0.0;

                        for (uint16_t i = 0; i < 128; i++) {
                            const float wi = va_arg(w, double);
                            dot += x[i] * wi;
                        }

                        return dot;
                    }
                };
            }
        }
    }